<div class="login-container">
  <div class="login-card">
    <div class="avatar"></div>

    <form [formGroup]="loginForm" (ngSubmit)="logar()">

      <div class="form-group">
        <label for="email">E-mail</label>
        <input
          id="email"
          type="email"
          placeholder="Digite seu e-mail"
          formControlName="email"
        />

        @if (loginForm.get('email')?.touched && loginForm.get('email')?.invalid)
        {
        <div class="error">
          @if (loginForm.get('email')?.errors?.['required']) {
          <small>E-mail é obrigatório.</small>
          } @if (loginForm.get('email')?.errors?.['email']) {
          <small>E-mail inválido.</small>
          }
        </div>
        }
      </div>

      <div class="form-group">
        <label for="senha">Senha</label>
        <input
          id="senha"
          type="password"
          placeholder="Digite sua senha"
          formControlName="senha"
        />

        @if (email?.touched && email?.invalid) {
        <div class="error">
          @if (email?.errors?.['required']) {
          <small>E-mail é obrigatório.</small>
          } @if (email?.errors?.['email']) {
          <small>E-mail inválido.</small>
          }
        </div>
        }
      </div>

      @if (loginError) {
        <div class="server-error">
          <small>{{ loginError }}</small>
        </div>
      }

      <button type="submit" [disabled]="isLoading">
        {{ isLoading ? 'Entrando...' : 'Entrar' }}
      </button>

    </form>
  </div>
</div>
